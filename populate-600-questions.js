// 600å•ï¼ˆç®—æ•°400å•+å›½èª200å•ï¼‰ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

// ç®—æ•°å•é¡Œ400å•ç”Ÿæˆ
function generateMathQuestions() {
    const questions = [];
    let questionNumber = 1;
    
    // è¶³ã—ç®—å•é¡Œ (1æ¡+1æ¡ = 10ä»¥ä¸‹) - 100å•
    for (let a = 1; a <= 9; a++) {
        for (let b = 1; b <= 9; b++) {
            if (a + b <= 10 && questionNumber <= 100) {
                questions.push({
                    id: `math_calc_${questionNumber}`,
                    type: 'math',
                    question: `${a} + ${b} = ?`,
                    answer: (a + b).toString(),
                    difficulty: 1
                });
                questionNumber++;
            }
        }
    }
    
    // å¼•ãç®—å•é¡Œ (çµæœ0ä»¥ä¸Š) - 100å•
    for (let a = 1; a <= 10; a++) {
        for (let b = 1; b <= a; b++) {
            if (questionNumber <= 200) {
                questions.push({
                    id: `math_sub_${questionNumber}`,
                    type: 'math',
                    question: `${a} - ${b} = ?`,
                    answer: (a - b).toString(),
                    difficulty: 1
                });
                questionNumber++;
            }
        }
    }
    
    // æ–‡ç« é¡Œ - 200å•
    const wordProblems = [
        { template: 'ã‚ã‚ãŒ{a}ã“ã‚ã‚Šã¾ã™ã€‚{b}ã“ãŸã¹ã¾ã—ãŸã€‚ã®ã“ã‚Šã¯ãªã‚“ã“ã§ã™ã‹ï¼Ÿ', operation: 'subtract' },
        { template: 'ã‚Šã‚“ã”ãŒ{a}ã“ã‚ã‚Šã¾ã™ã€‚{b}ã“ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ãœã‚“ã¶ã§ãªã‚“ã“ã§ã™ã‹ï¼Ÿ', operation: 'add' },
        { template: 'ã­ã“ãŒ{a}ã²ãã„ã¾ã™ã€‚{b}ã²ããã¾ã—ãŸã€‚ãœã‚“ã¶ã§ãªã‚“ã²ãã§ã™ã‹ï¼Ÿ', operation: 'add' },
        { template: 'ã»ã‚“ãŒ{a}ã•ã¤ã‚ã‚Šã¾ã™ã€‚{b}ã•ã¤ã‚ˆã¿ã¾ã—ãŸã€‚ã®ã“ã‚Šã¯ãªã‚“ã•ã¤ã§ã™ã‹ï¼Ÿ', operation: 'subtract' },
        { template: 'ãˆã‚“ã´ã¤ãŒ{a}ã½ã‚“ã‚ã‚Šã¾ã™ã€‚{b}ã½ã‚“ã¤ã‹ã„ã¾ã—ãŸã€‚ã®ã“ã‚Šã¯ãªã‚“ã½ã‚“ã§ã™ã‹ï¼Ÿ', operation: 'subtract' },
        { template: 'ã¯ãªãŒ{a}ã»ã‚“ã‚ã‚Šã¾ã™ã€‚{b}ã»ã‚“ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ãœã‚“ã¶ã§ãªã‚“ã»ã‚“ã§ã™ã‹ï¼Ÿ', operation: 'add' },
        { template: 'ã¨ã‚ŠãŒ{a}ã‚ã„ã¾ã™ã€‚{b}ã‚ã¨ã‚“ã§ãã¾ã—ãŸã€‚ãœã‚“ã¶ã§ãªã‚“ã‚ã§ã™ã‹ï¼Ÿ', operation: 'add' },
        { template: 'ã¼ãƒ¼ã‚‹ãŒ{a}ã“ã‚ã‚Šã¾ã™ã€‚{b}ã“ã¤ã‹ã„ã¾ã—ãŸã€‚ã®ã“ã‚Šã¯ãªã‚“ã“ã§ã™ã‹ï¼Ÿ', operation: 'subtract' },
        { template: 'ã‹ãƒ¼ã©ãŒ{a}ã¾ã„ã‚ã‚Šã¾ã™ã€‚{b}ã¾ã„ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ãœã‚“ã¶ã§ãªã‚“ã¾ã„ã§ã™ã‹ï¼Ÿ', operation: 'add' },
        { template: 'ãŠã‚‚ã¡ã‚ƒãŒ{a}ã“ã‚ã‚Šã¾ã™ã€‚{b}ã“ã—ã¾ã„ã¾ã—ãŸã€‚ã®ã“ã‚Šã¯ãªã‚“ã“ã§ã™ã‹ï¼Ÿ', operation: 'subtract' }
    ];
    
    for (let i = 0; i < 200 && questionNumber <= 400; i++) {
        const template = wordProblems[i % wordProblems.length];
        const a = Math.floor(Math.random() * 9) + 2;
        const b = template.operation === 'subtract' ? Math.floor(Math.random() * (a - 1)) + 1 : Math.floor(Math.random() * 8) + 1;
        const answer = template.operation === 'subtract' ? a - b : a + b;
        
        const question = template.template.replace('{a}', a).replace('{b}', b);
        
        questions.push({
            id: `math_word_${questionNumber}`,
            type: 'math',
            question: question,
            answer: answer.toString(),
            difficulty: 1
        });
        questionNumber++;
    }
    
    return questions;
}

// å›½èªå•é¡Œ200å•ç”Ÿæˆ
function generateLanguageQuestions() {
    const questions = [];
    let questionNumber = 1;
    
    // 1. ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›å•é¡Œï¼ˆ50å•ï¼‰
    const katakanaWords = [
        ['ã„ã¬', 'ã‚¤ãƒŒ'], ['ã­ã“', 'ãƒã‚³'], ['ã†ã•ã', 'ã‚¦ã‚µã‚®'], ['ã¨ã‚Š', 'ãƒˆãƒª'], ['ã•ã‹ãª', 'ã‚µã‚«ãƒŠ'],
        ['ã‚‰ã„ãŠã‚“', 'ãƒ©ã‚¤ã‚ªãƒ³'], ['ãã†', 'ã‚¾ã‚¦'], ['ãã‚Šã‚“', 'ã‚­ãƒªãƒ³'], ['ã¶ãŸ', 'ãƒ–ã‚¿'], ['ã†ã—', 'ã‚¦ã‚·'],
        ['ã‚Šã‚“ã”', 'ãƒªãƒ³ã‚´'], ['ã°ãªãª', 'ãƒãƒŠãƒŠ'], ['ã¿ã‹ã‚“', 'ãƒŸã‚«ãƒ³'], ['ã„ã¡ã”', 'ã‚¤ãƒã‚´'], ['ã¶ã©ã†', 'ãƒ–ãƒ‰ã‚¦'],
        ['ã±ã‚“', 'ãƒ‘ãƒ³'], ['ã‘ãƒ¼ã', 'ã‚±ãƒ¼ã‚­'], ['ã‚ã„ã™', 'ã‚¢ã‚¤ã‚¹'], ['ã˜ã‚…ãƒ¼ã™', 'ã‚¸ãƒ¥ãƒ¼ã‚¹'], ['ã¿ã‚‹ã', 'ãƒŸãƒ«ã‚¯'],
        ['ã¼ãƒ¼ã‚‹', 'ãƒœãƒ¼ãƒ«'], ['ã‚‰ã˜ãŠ', 'ãƒ©ã‚¸ã‚ª'], ['ã¦ã‚Œã³', 'ãƒ†ãƒ¬ãƒ“'], ['ã§ã‚“ã‚', 'ãƒ‡ãƒ³ãƒ¯'], ['ã‹ã‚ã‚‰', 'ã‚«ãƒ¡ãƒ©'],
        ['ãŸãã—ãƒ¼', 'ã‚¿ã‚¯ã‚·ãƒ¼'], ['ã°ã™', 'ãƒã‚¹'], ['ã§ã‚“ã—ã‚ƒ', 'ãƒ‡ãƒ³ã‚·ãƒ£'], ['ã²ã“ã†ã', 'ãƒ’ã‚³ã‚¦ã‚­'], ['ãµã­', 'ãƒ•ãƒ'],
        ['ã¤ããˆ', 'ãƒ„ã‚¯ã‚¨'], ['ã„ã™', 'ã‚¤ã‚¹'], ['ã‹ã°ã‚“', 'ã‚«ãƒãƒ³'], ['ãºã‚“', 'ãƒšãƒ³'], ['ã®ãƒ¼ã¨', 'ãƒãƒ¼ãƒˆ'],
        ['ã¯ã•ã¿', 'ãƒã‚µãƒŸ'], ['ã˜ã‚‡ã†ã', 'ã‚¸ãƒ§ã‚¦ã‚®'], ['ã‘ã—ã”ã‚€', 'ã‚±ã‚·ã‚´ãƒ '], ['ãã‚Œã‚ˆã‚“', 'ã‚¯ãƒ¬ãƒ¨ãƒ³'], ['ãµã§', 'ãƒ•ãƒ‡'],
        ['ã•ã‚‰', 'ã‚µãƒ©'], ['ã“ã£ã·', 'ã‚³ãƒƒãƒ—'], ['ã™ã·ãƒ¼ã‚“', 'ã‚¹ãƒ—ãƒ¼ãƒ³'], ['ãµã‰ãƒ¼ã', 'ãƒ•ã‚©ãƒ¼ã‚¯'], ['ãªã„ãµ', 'ãƒŠã‚¤ãƒ•'],
        ['ãŸãŠã‚‹', 'ã‚¿ã‚ªãƒ«'], ['ã›ã£ã‘ã‚“', 'ã‚»ãƒƒã‚±ãƒ³'], ['ã—ã‚ƒã‚“ã·ãƒ¼', 'ã‚·ãƒ£ãƒ³ãƒ—ãƒ¼'], ['ã¯ã¶ã‚‰ã—', 'ãƒãƒ–ãƒ©ã‚·'], ['ãã—', 'ã‚¯ã‚·']
    ];
    
    katakanaWords.forEach(([hiragana, katakana]) => {
        if (questionNumber <= 50) {
            questions.push({
                id: `lang_katakana_${questionNumber}`,
                type: 'language',
                question: `ã€Œ${hiragana}ã€ã‚’ã‚«ã‚¿ã‚«ãƒŠã§æ›¸ãã¨ã©ã‚Œã§ã™ã‹ï¼Ÿ`,
                answer: katakana,
                choices: [katakana, 'ã‚¢ã‚¤ã‚¦', 'ã‚¨ã‚ªã‚«', 'ã‚­ã‚¯ã‚±', 'ã‚³ã‚µã‚·'],
                difficulty: 1
            });
            questionNumber++;
        }
    });
    
    // 2. æ–‡å­—æ•°å•é¡Œï¼ˆ30å•ï¼‰
    const countWords = [
        ['ã­ã“', 2], ['ã„ã¬', 2], ['ã†ã•ã', 3], ['ã‚‰ã„ãŠã‚“', 4], ['ãã†', 2],
        ['ã‚Šã‚“ã”', 3], ['ã°ãªãª', 3], ['ã„ã¡ã”', 3], ['ã¶ã©ã†', 3], ['ã¿ã‹ã‚“', 3],
        ['ã¯ãª', 2], ['ã', 1], ['ã‚„ã¾', 2], ['ã†ã¿', 2], ['ã‹ã‚', 2],
        ['ãã‚‰', 2], ['ã¤ã', 2], ['ã»ã—', 2], ['ã²', 1], ['ã‚†ã', 2],
        ['ã¿ãš', 2], ['ã„ã—', 2], ['ã¤ã¡', 2], ['ã‹ãœ', 2], ['ã‚ã‚', 2],
        ['ãã‚‚', 2], ['ã«ã˜', 2], ['ã‚ã•', 2], ['ã²ã‚‹', 2], ['ã‚ˆã‚‹', 2]
    ];
    
    countWords.forEach(([word, count]) => {
        if (questionNumber <= 80) {
            questions.push({
                id: `lang_count_${questionNumber}`,
                type: 'language',
                question: `ã€Œ${word}ã€ã¯ä½•æ–‡å­—ã§ã™ã‹ï¼Ÿ`,
                answer: count.toString(),
                choices: ['1', '2', '3', '4', '5'],
                difficulty: 1
            });
            questionNumber++;
        }
    });
    
    // 3. åå¯¾èªå•é¡Œï¼ˆ40å•ï¼‰
    const opposites = [
        ['ãŠãŠãã„', 'ã¡ã„ã•ã„'], ['ãŸã‹ã„', 'ã²ãã„'], ['ãªãŒã„', 'ã¿ã˜ã‹ã„'], ['ãŠã‚‚ã„', 'ã‹ã‚‹ã„'],
        ['ã‚ã¤ã„', 'ã¤ã‚ãŸã„'], ['ã¯ã‚„ã„', 'ãŠãã„'], ['ã‚ã‹ã‚‹ã„', 'ãã‚‰ã„'], ['ã¤ã‚ˆã„', 'ã‚ˆã‚ã„'],
        ['ã‚ãŸã‚‰ã—ã„', 'ãµã‚‹ã„'], ['ãã‚Œã„', 'ããŸãªã„'], ['ã—ãšã‹', 'ã†ã‚‹ã•ã„'], ['ã‚„ã™ã„', 'ãŸã‹ã„'],
        ['ã²ã‚ã„', 'ã›ã¾ã„'], ['ã‹ãŸã„', 'ã‚„ã‚ã‚‰ã‹ã„'], ['ã‚ã¾ã„', 'ã‹ã‚‰ã„'], ['ã¾ãˆ', 'ã†ã—ã‚'],
        ['ã†ãˆ', 'ã—ãŸ'], ['ã¿ã', 'ã²ã ã‚Š'], ['ã¯ã˜ã‚', 'ãŠã‚ã‚Š'], ['ã‚ã•', 'ã‚ˆã‚‹'],
        ['ãªã¤', 'ãµã‚†'], ['ã‚ã¤ã„', 'ã•ã‚€ã„'], ['ã¿ã˜ã‹ã„', 'ãªãŒã„'], ['ã†ã‚‹ã•ã„', 'ã—ãšã‹'],
        ['ã‹ã‚‰ã„', 'ã‚ã¾ã„'], ['ã¤ã‚ãŸã„', 'ã‚ã¤ã„'], ['ãã‚‰ã„', 'ã‚ã‹ã‚‹ã„'], ['ã‚ˆã‚ã„', 'ã¤ã‚ˆã„'],
        ['ããŸãªã„', 'ãã‚Œã„'], ['ãµã‚‹ã„', 'ã‚ãŸã‚‰ã—ã„'], ['ãŠãã„', 'ã¯ã‚„ã„'], ['ã‹ã‚‹ã„', 'ãŠã‚‚ã„'],
        ['ã¿ã˜ã‹ã„', 'ãªãŒã„'], ['ã²ãã„', 'ãŸã‹ã„'], ['ã¡ã„ã•ã„', 'ãŠãŠãã„'], ['ã›ã¾ã„', 'ã²ã‚ã„'],
        ['ã‚„ã‚ã‚‰ã‹ã„', 'ã‹ãŸã„'], ['ã—ãŸ', 'ã†ãˆ'], ['ã²ã ã‚Š', 'ã¿ã'], ['ãŠã‚ã‚Š', 'ã¯ã˜ã‚']
    ];
    
    opposites.forEach(([word, opposite]) => {
        if (questionNumber <= 120) {
            questions.push({
                id: `lang_opposite_${questionNumber}`,
                type: 'language',
                question: `ã€Œ${word}ã€ã®åå¯¾ã®æ„å‘³ã®è¨€è‘‰ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ`,
                answer: opposite,
                choices: [opposite, 'ã‚ã‹ã‚‹ã„', 'ã¯ã‚„ã„', 'ãŠãŠãã„', 'ã‚ãŸã‚‰ã—ã„'],
                difficulty: 1
            });
            questionNumber++;
        }
    });
    
    // 4. åŠ©è©å•é¡Œï¼ˆ80å•ï¼‰
    const particles = [
        ['ã‚ãŸã—ï¼ˆã€€ï¼‰ãŒã£ã“ã†ã¸ã„ãã¾ã™', 'ã¯'], ['ã»ã‚“ï¼ˆã€€ï¼‰ã‚ˆã¿ã¾ã™', 'ã‚’'], ['ãŒã£ã“ã†ï¼ˆã€€ï¼‰ã¹ã‚“ãã‚‡ã†ã—ã¾ã™', 'ã§'],
        ['ãŠã¨ã‚‚ã ã¡ï¼ˆã€€ï¼‰ã‚ãã³ã¾ã™', 'ã¨'], ['ãŠã†ã¡ï¼ˆã€€ï¼‰ã‹ãˆã‚Šã¾ã™', 'ã«'], ['ã­ã“ï¼ˆã€€ï¼‰ã‹ã‚ã„ã„ã§ã™', 'ãŒ'],
        ['ãˆã‚“ã´ã¤ï¼ˆã€€ï¼‰ã‹ãã¾ã™', 'ã§'], ['ã‚Šã‚“ã”ï¼ˆã€€ï¼‰ãŸã¹ã¾ã™', 'ã‚’'], ['ã‚ã—ãŸï¼ˆã€€ï¼‰ãˆã‚“ããã§ã™', 'ã¯'],
        ['ã“ã†ãˆã‚“ï¼ˆã€€ï¼‰ã„ãã¾ã™', 'ã«'], ['ã„ã¬ï¼ˆã€€ï¼‰ã¯ã—ã‚Šã¾ã™', 'ãŒ'], ['ã¿ãšï¼ˆã€€ï¼‰ã®ã¿ã¾ã™', 'ã‚’'],
        ['ãã‚‡ã†ã—ã¤ï¼ˆã€€ï¼‰ã„ã¾ã™', 'ã«'], ['ã¼ãƒ¼ã‚‹ï¼ˆã€€ï¼‰ã‚ãã³ã¾ã™', 'ã§'], ['ãŠã‹ã‚ã•ã‚“ï¼ˆã€€ï¼‰ã‚Šã‚‡ã†ã‚Šã—ã¾ã™', 'ãŒ'],
        ['ã¦ãŒã¿ï¼ˆã€€ï¼‰ã‹ãã¾ã™', 'ã‚’'], ['ãŒã£ã“ã†ï¼ˆã€€ï¼‰ãŸã®ã—ã„ã§ã™', 'ã¯'], ['ã¨ã‚‚ã ã¡ï¼ˆã€€ï¼‰ã¯ãªã—ã¾ã™', 'ã¨'],
        ['ã²ã‚‹ã”ã¯ã‚“ï¼ˆã€€ï¼‰ãŸã¹ã¾ã™', 'ã‚’'], ['ã‚ˆã‚‹ï¼ˆã€€ï¼‰ã­ã¾ã™', 'ã«'], ['ã‚ã‚ï¼ˆã€€ï¼‰ãµã‚Šã¾ã™', 'ãŒ'],
        ['ã¯ãªï¼ˆã€€ï¼‰ãã‚Œã„ã§ã™', 'ãŒ'], ['ã§ã‚“ã—ã‚ƒï¼ˆã€€ï¼‰ã®ã‚Šã¾ã™', 'ã«'], ['ã°ã™ï¼ˆã€€ï¼‰ã„ãã¾ã™', 'ã§'],
        ['ã‹ã°ã‚“ï¼ˆã€€ï¼‰ã‚‚ã¡ã¾ã™', 'ã‚’'], ['ã›ã‚“ã›ã„ï¼ˆã€€ï¼‰ããã¾ã™', 'ã«'], ['ã¨ã‚‚ã ã¡ï¼ˆã€€ï¼‰ã¦ãŒã¿ã‚’ã‹ãã¾ã™', 'ã«'],
        ['ãŠã‹ã‚ã•ã‚“ï¼ˆã€€ï¼‰ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã„ã¾ã™', 'ã«'], ['ã‚„ã¾ï¼ˆã€€ï¼‰ã®ã¼ã‚Šã¾ã™', 'ã«'], ['ã†ã¿ï¼ˆã€€ï¼‰ãŠã‚ˆãã¾ã™', 'ã§'],
        ['ã»ã‚“ï¼ˆã€€ï¼‰ã¤ããˆã«ãŠãã¾ã™', 'ã‚’'], ['ãˆã‚“ã´ã¤ï¼ˆã€€ï¼‰ã¤ããˆã«ã‚ã‚Šã¾ã™', 'ãŒ'], ['ã­ã“ï¼ˆã€€ï¼‰ã«ã‚ã«ã„ã¾ã™', 'ãŒ'],
        ['ã„ã¬ï¼ˆã€€ï¼‰ã“ã†ãˆã‚“ã§ã¯ã—ã‚Šã¾ã™', 'ãŒ'], ['ã¨ã‚Šï¼ˆã€€ï¼‰ãã‚‰ã‚’ã¨ã³ã¾ã™', 'ãŒ'], ['ã•ã‹ãªï¼ˆã€€ï¼‰ã†ã¿ã«ã„ã¾ã™', 'ãŒ'],
        ['ã¯ãªï¼ˆã€€ï¼‰ã«ã‚ã«ã•ãã¾ã™', 'ãŒ'], ['ãï¼ˆã€€ï¼‰ã‚„ã¾ã«ã‚ã‚Šã¾ã™', 'ãŒ'], ['ã¤ãï¼ˆã€€ï¼‰ãã‚‰ã«ã§ã¾ã™', 'ãŒ'],
        ['ã»ã—ï¼ˆã€€ï¼‰ã‚ˆã‚‹ã«ã²ã‹ã‚Šã¾ã™', 'ãŒ'], ['ã²ï¼ˆã€€ï¼‰ã‚ã•ã«ã§ã¾ã™', 'ãŒ'], ['ãã‚‚ï¼ˆã€€ï¼‰ãã‚‰ã«ã‚ã‚Šã¾ã™', 'ãŒ'],
        ['ã‚ã‚ï¼ˆã€€ï¼‰ãã‚‰ã‹ã‚‰ãµã‚Šã¾ã™', 'ãŒ'], ['ã‚†ãï¼ˆã€€ï¼‰ãµã‚†ã«ãµã‚Šã¾ã™', 'ãŒ'], ['ã¯ãªï¼ˆã€€ï¼‰ã¯ã‚‹ã«ã•ãã¾ã™', 'ãŒ'],
        ['ã¿ã©ã‚Šï¼ˆã€€ï¼‰ãªã¤ã«ãã‚Œã„ã§ã™', 'ãŒ'], ['ã‚‚ã¿ã˜ï¼ˆã€€ï¼‰ã‚ãã«ãã‚Œã„ã§ã™', 'ãŒ'], ['ãŠã‹ã‚ã•ã‚“ï¼ˆã€€ï¼‰ã‚„ã•ã—ã„ã§ã™', 'ãŒ'],
        ['ãŠã¨ã†ã•ã‚“ï¼ˆã€€ï¼‰ã¤ã‚ˆã„ã§ã™', 'ãŒ'], ['ã›ã‚“ã›ã„ï¼ˆã€€ï¼‰ã—ã‚“ã›ã¤ã§ã™', 'ãŒ'], ['ã¨ã‚‚ã ã¡ï¼ˆã€€ï¼‰ãŸã®ã—ã„ã§ã™', 'ãŒ'],
        ['ã‚ã‹ï¼ˆã€€ï¼‰ãã‚Œã„ãªã„ã‚ã§ã™', 'ã¯'], ['ã¿ã©ã‚Šï¼ˆã€€ï¼‰ã™ããªã„ã‚ã§ã™', 'ãŒ'], ['ãã„ã‚ï¼ˆã€€ï¼‰ã‚ã‹ã‚‹ã„ã„ã‚ã§ã™', 'ã¯'],
        ['ã‚ãŠï¼ˆã€€ï¼‰ã†ã¿ã®ã„ã‚ã§ã™', 'ã¯'], ['ã—ã‚ï¼ˆã€€ï¼‰ã‚†ãã®ã„ã‚ã§ã™', 'ã¯'], ['ãã‚ï¼ˆã€€ï¼‰ã‚ˆã‚‹ã®ã„ã‚ã§ã™', 'ã¯'],
        ['ã¿ã‹ã‚“ï¼ˆã€€ï¼‰ã‚ã¾ã„ã§ã™', 'ãŒ'], ['ã‚Šã‚“ã”ï¼ˆã€€ï¼‰ãŠã„ã—ã„ã§ã™', 'ãŒ'], ['ã°ãªãªï¼ˆã€€ï¼‰ãã„ã‚ã„ã§ã™', 'ãŒ'],
        ['ã„ã¡ã”ï¼ˆã€€ï¼‰ã‚ã‹ã„ã§ã™', 'ãŒ'], ['ã¶ã©ã†ï¼ˆã€€ï¼‰ã‚€ã‚‰ã•ãã§ã™', 'ãŒ'], ['ã‚„ã•ã„ï¼ˆã€€ï¼‰ã‹ã‚‰ã ã«ã„ã„ã§ã™', 'ã¯'],
        ['ãã ã‚‚ã®ï¼ˆã€€ï¼‰ã‚ã¾ã„ã§ã™', 'ãŒ'], ['ãã‚…ã†ã«ã‚…ã†ï¼ˆã€€ï¼‰ã®ã¿ã¾ã™', 'ã‚’'], ['ãŠã¡ã‚ƒï¼ˆã€€ï¼‰ã®ã¿ã¾ã™', 'ã‚’'],
        ['ã¿ãšï¼ˆã€€ï¼‰ã¤ã‚ãŸã„ã§ã™', 'ãŒ'], ['ãŠã‚†ï¼ˆã€€ï¼‰ã‚ã¤ã„ã§ã™', 'ãŒ'], ['ã“ãŠã‚Šï¼ˆã€€ï¼‰ã¤ã‚ãŸã„ã§ã™', 'ãŒ'],
        ['ã²ï¼ˆã€€ï¼‰ã‚ã¤ã„ã§ã™', 'ãŒ'], ['ã‹ãœï¼ˆã€€ï¼‰ã™ãšã—ã„ã§ã™', 'ãŒ'], ['ã‚†ãï¼ˆã€€ï¼‰ã—ã‚ã„ã§ã™', 'ãŒ'],
        ['ã‚ã‚ï¼ˆã€€ï¼‰ã¤ã‚ãŸã„ã§ã™', 'ãŒ'], ['ãã‚‚ï¼ˆã€€ï¼‰ã—ã‚ã„ã§ã™', 'ãŒ'], ['ã«ã˜ï¼ˆã€€ï¼‰ãã‚Œã„ã§ã™', 'ãŒ'],
        ['ã¤ãï¼ˆã€€ï¼‰ã¾ã‚‹ã„ã§ã™', 'ãŒ'], ['ã»ã—ï¼ˆã€€ï¼‰ã²ã‹ã‚Šã¾ã™', 'ãŒ'], ['ãã‚‰ï¼ˆã€€ï¼‰ã‚ãŠã„ã§ã™', 'ãŒ'],
        ['ã‚„ã¾ï¼ˆã€€ï¼‰ãŸã‹ã„ã§ã™', 'ãŒ'], ['ã†ã¿ï¼ˆã€€ï¼‰ã²ã‚ã„ã§ã™', 'ãŒ'], ['ã‹ã‚ï¼ˆã€€ï¼‰ãªãŒã„ã§ã™', 'ãŒ'],
        ['ã¿ã¡ï¼ˆã€€ï¼‰ã²ã‚ã„ã§ã™', 'ãŒ'], ['ã¯ã—ï¼ˆã€€ï¼‰ãªãŒã„ã§ã™', 'ãŒ'], ['ãï¼ˆã€€ï¼‰ãŸã‹ã„ã§ã™', 'ãŒ']
    ];
    
    particles.forEach(([sentence, answer]) => {
        if (questionNumber <= 200) {
            questions.push({
                id: `lang_particle_${questionNumber}`,
                type: 'language',
                question: `${sentence}ã®ï¼ˆã€€ï¼‰ã«å…¥ã‚‹è¨€è‘‰ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ`,
                answer: answer,
                choices: ['ã¯', 'ãŒ', 'ã‚’', 'ã«', 'ã§'],
                difficulty: 1
            });
            questionNumber++;
        }
    });
    
    return questions;
}

// å•é¡Œã‚’ç”Ÿæˆ
const allMathQuestions = generateMathQuestions();
const allLanguageQuestions = generateLanguageQuestions();

console.log('ğŸ“š 600å•ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ã‚·ã‚¹ãƒ†ãƒ ');
console.log(`ç®—æ•°å•é¡Œ: ${allMathQuestions.length}å•`);
console.log(`å›½èªå•é¡Œ: ${allLanguageQuestions.length}å•`);
console.log(`åˆè¨ˆ: ${allMathQuestions.length + allLanguageQuestions.length}å•`);

// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã™ã‚‹é–¢æ•°
async function saveQuestionToDatabase(question) {
    try {
        const response = await fetch('http://localhost:3000/api/questions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(question)
        });
        
        if (response.ok) {
            return await response.json();
        } else {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
    } catch (error) {
        console.error(`ä¿å­˜ã‚¨ãƒ©ãƒ¼ (${question.id}):`, error.message);
        return null;
    }
}

// å…¨å•é¡Œã‚’ä¿å­˜
async function saveAllQuestions() {
    console.log('\nğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜é–‹å§‹...');
    
    let savedCount = 0;
    let errorCount = 0;
    
    // ç®—æ•°å•é¡Œã‚’ä¿å­˜
    console.log('ğŸ“ ç®—æ•°å•é¡Œã‚’ä¿å­˜ä¸­...');
    for (let i = 0; i < allMathQuestions.length; i++) {
        const question = allMathQuestions[i];
        const result = await saveQuestionToDatabase(question);
        
        if (result) {
            savedCount++;
            if (savedCount % 50 === 0) {
                console.log(`âœ… ${savedCount}å•ä¿å­˜å®Œäº†...`);
            }
        } else {
            errorCount++;
        }
        
        // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’é¿ã‘ã‚‹ãŸã‚å°‘ã—å¾…æ©Ÿ
        await new Promise(resolve => setTimeout(resolve, 10));
    }
    
    // å›½èªå•é¡Œã‚’ä¿å­˜
    console.log('ğŸ“– å›½èªå•é¡Œã‚’ä¿å­˜ä¸­...');
    for (let i = 0; i < allLanguageQuestions.length; i++) {
        const question = allLanguageQuestions[i];
        const result = await saveQuestionToDatabase(question);
        
        if (result) {
            savedCount++;
            if (savedCount % 50 === 0) {
                console.log(`âœ… ${savedCount}å•ä¿å­˜å®Œäº†...`);
            }
        } else {
            errorCount++;
        }
        
        // ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’é¿ã‘ã‚‹ãŸã‚å°‘ã—å¾…æ©Ÿ
        await new Promise(resolve => setTimeout(resolve, 10));
    }
    
    console.log('\nğŸ‰ ä¿å­˜å®Œäº†ï¼');
    console.log(`âœ… ä¿å­˜æˆåŠŸ: ${savedCount}å•`);
    console.log(`âŒ ä¿å­˜å¤±æ•—: ${errorCount}å•`);
    console.log(`ğŸ“Š åˆè¨ˆ: ${savedCount + errorCount}å•`);
}

// Node.jsç’°å¢ƒã§å®Ÿè¡Œ
if (typeof window === 'undefined') {
    (async () => {
        const fetch = (await import('node-fetch')).default;
        global.fetch = fetch;
        
        await saveAllQuestions();
    })().catch(console.error);
}